{"ast":null,"code":"var _jsxFileName = \"/Users/josemariodev/dev/lambda/BW/CS26LambdaMud/Django_FE/haunted/src/components/SignIn.js\";\nimport React from 'react';\nimport axios from 'axios';\n\nclass SignIn extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = e => {\n      this.setState({\n        credentials: { ...this.state.credentials,\n          [e.target.name]: e.target.value\n        }\n      });\n    };\n\n    this.handleSubmit = e => {\n      // let localStorage;\n      e.preventDefault();\n      axios.post('https://advapi.herokuapp.com/api/login/', this.state.credentials) // axios.post('https://adv-project-test.herokuapp.com/api/login/', this.state.credentials)\n      .then(res => {\n        console.log('Res', res.data.key);\n        localStorage.setItem('token', res.data.key);\n        console.log('Signed in Successful');\n        this.props.history.push('/play');\n      }).catch(err => {\n        this.setState({ ...this.state,\n          error: 'Incorrect username or password'\n        });\n        console.log(err);\n      });\n    };\n\n    this.state = {\n      credentials: {\n        username: '',\n        password: ''\n      },\n      error: ''\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"main-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"signin\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      name: \"username\",\n      placeholder: \"username\",\n      value: this.state.credentials.username,\n      onChange: this.handleChange,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"password\",\n      name: \"password\",\n      value: this.state.credentials.password,\n      onChange: this.handleChange,\n      placeholder: \"password\",\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, \"Login\"), React.createElement(\"p\", {\n      className: \"login-error\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, this.state.error ? this.state.error : null))));\n  }\n\n}\n\nexport default SignIn;","map":{"version":3,"sources":["/Users/josemariodev/dev/lambda/BW/CS26LambdaMud/Django_FE/haunted/src/components/SignIn.js"],"names":["React","axios","SignIn","Component","constructor","props","handleChange","e","setState","credentials","state","target","name","value","handleSubmit","preventDefault","post","then","res","console","log","data","key","localStorage","setItem","history","push","catch","err","error","username","password","render"],"mappings":"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","sourcesContent":["import React from 'react';\nimport axios from 'axios';\n\nclass SignIn extends React.Component {\n    constructor(props){\n      super(props)\n\n      this.state={\n        credentials:{\n          username: '',\n          password: ''\n        },\n          error: ''\n        }\n      };\n    handleChange = e => {\n        this.setState({\n            credentials:{\n                ...this.state.credentials,\n                [e.target.name]: e.target.value\n            }\n        });\n    };\n    handleSubmit = e => {\n        // let localStorage;\n        e.preventDefault();\n        axios.post('https://advapi.herokuapp.com/api/login/', this.state.credentials)\n        // axios.post('https://adv-project-test.herokuapp.com/api/login/', this.state.credentials)\n        .then(res => {\n            console.log('Res', res.data.key)\n           localStorage.setItem('token', res.data.key)\n            console.log('Signed in Successful')\n            this.props.history.push('/play');\n        })\n        .catch(err => {\n            this.setState({\n                ...this.state,\n                error: 'Incorrect username or password'\n            })\n            console.log(err)\n        })\n    }\n    render(){\n        return(\n            <div className='main-container'>\n                <div className='signin'>\n                <form onSubmit={this.handleSubmit}>\n                    <input\n                    type=\"text\"\n                    name=\"username\"\n                    placeholder=\"username\"\n                    value={this.state.credentials.username}\n                    onChange={this.handleChange}\n                    required/>\n                    <br/>\n                    <input\n                    type=\"password\"\n                    name=\"password\"\n                    value={this.state.credentials.password}\n                    onChange={this.handleChange}\n                    placeholder=\"password\"\n                    required/>\n                    <button>Login</button>\n                    <p className='login-error'>\n                        {this.state.error ? this.state.error : null}\n                    </p>\n                </form>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default SignIn;\n"]},"metadata":{},"sourceType":"module"}